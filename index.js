var B=Object.defineProperty;var M=(A,e)=>{for(var t in e)B(A,t,{get:e[t],enumerable:!0})};var l={};M(l,{__wbg_board_free:()=>C,__wbg_get_board_player_turn:()=>D,__wbg_get_board_winner:()=>N,__wbg_set_board_player_turn:()=>W,__wbg_set_board_winner:()=>P,__wbindgen_export_0:()=>X,__wbindgen_start:()=>b,board_get_board:()=>S,board_new:()=>Y,board_select_col:()=>H,instance:()=>n,memory:()=>U,module:()=>z});var g="./connectors_bg-6MZA7G26.wasm";var r;function p(A){r=A}var $=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder,E=new $("utf-8",{ignoreBOM:!0,fatal:!0});E.decode();var o=null;function K(){return(o===null||o.byteLength===0)&&(o=new Uint8Array(r.memory.buffer)),o}function T(A,e){return A=A>>>0,E.decode(K().subarray(A,A+e))}function J(A){return A==null}var q=Object.freeze({Red:0,0:"Red",Black:1,1:"Black"}),a=Object.freeze({Empty:0,0:"Empty",Red:1,1:"Red",Black:2,2:"Black"}),k=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>r.__wbg_board_free(A>>>0,1)),s=class A{static __wrap(e){e=e>>>0;let t=Object.create(A.prototype);return t.__wbg_ptr=e,k.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_board_free(e,0)}get player_turn(){return r.__wbg_get_board_player_turn(this.__wbg_ptr)}set player_turn(e){r.__wbg_set_board_player_turn(this.__wbg_ptr,e)}get winner(){let e=r.__wbg_get_board_winner(this.__wbg_ptr);return e===2?void 0:e}set winner(e){r.__wbg_set_board_winner(this.__wbg_ptr,J(e)?2:e)}select_col(e){r.board_select_col(this.__wbg_ptr,e)}static new(e,t){let j=r.board_new(e,t);return A.__wrap(j)}get get_board(){return r.board_get_board(this.__wbg_ptr)}};function u(A){return A.buffer}function f(A){return new Uint8Array(A)}function x(A,e,t){return new Uint8Array(A,e>>>0,t>>>0)}function m(){let A=r.__wbindgen_export_0,e=A.grow(4);A.set(0,void 0),A.set(e+0,void 0),A.set(e+1,null),A.set(e+2,!0),A.set(e+3,!1)}function y(){return r.memory}function v(A,e){throw new Error(T(A,e))}var R={"./connectors_bg.js":{__wbindgen_memory:y,__wbg_buffer_609cc3eee51ed158:u,__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a:x,__wbg_new_a12002a7f91c75be:f,__wbindgen_throw:v,__wbindgen_init_externref_table:m}};async function L(A,e){if(typeof A=="string"){A.startsWith("./")&&(A=new URL(A,import.meta.url).href);let t=await fetch(A);if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(j){if(t.headers.get("Content-Type")!="application/wasm")console.warn(j);else throw j}A=await t.arrayBuffer()}return await WebAssembly.instantiate(A,e)}var{instance:n,module:z}=await L(g,R),U=n.exports.memory,C=n.exports.__wbg_board_free,D=n.exports.__wbg_get_board_player_turn,N=n.exports.__wbg_get_board_winner,W=n.exports.__wbg_set_board_player_turn,P=n.exports.__wbg_set_board_winner,S=n.exports.board_get_board,Y=n.exports.board_new,H=n.exports.board_select_col,X=n.exports.__wbindgen_export_0,b=n.exports.__wbindgen_start;p(l);b();var Q=6,h=7,F={[q.Red]:"R",[q.Black]:"B"},V={[a.Empty]:"_",[a.Red]:"R",[a.Black]:"B"},w=document.querySelector("#player-turn span"),i=document.getElementById("game-board"),_=s.new(Q,h),I=()=>{let A=_.winner!==void 0?F[_.winner]:F[_.player_turn];w.classList.remove("tile-R","tile-B"),w.classList.add(`tile-${A}`),_.winner!==void 0&&(i.classList.add("pointer-none"),w.classList.add(_.winner!==void 0?"win":""));let e=Array.from(_.get_board).map(j=>V[j]),t=document.createDocumentFragment();e.forEach((j,O)=>{let c=document.createElement("div"),d=document.createElement("span");d.textContent=j,d.classList.add("tile",`tile-${j}`),c.dataset.colIdx=Math.floor(O%h),c.appendChild(d),t.appendChild(c)}),i.innerHTML="",i.appendChild(t)};i.addEventListener("click",A=>{let e=parseInt(A.target.dataset.colIdx,10);_.select_col(e),I()});I();
