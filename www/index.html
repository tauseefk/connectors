<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Connectors</title>
        <link rel="stylesheet" href="styles.css" />
        <script type="module">
            import init, { Board, TileType } from "./connectors/connectors.js";
            const ROW_COUNT = 6;
            const COL_COUNT = 7;
            // just so it's easy to render as a grid
            const DISPLAY_TILE_MAP = {
                [TileType.Empty]: "_",
                [TileType.Red]: "R",
                [TileType.Black]: "B",
            };

            init().then(() => {
                const board = Board.new(ROW_COUNT, COL_COUNT);
                const tiles = Array.from(board.get_board).map(
                    (tileEnumValue) => DISPLAY_TILE_MAP[tileEnumValue],
                );
                const fragment = document.createDocumentFragment();
                tiles.forEach((tile, idx) => {
                    const span = document.createElement("span");
                    span.textContent = tile;
                    fragment.appendChild(span);
                });

                const gameBoard = document.getElementById("game-board");
                gameBoard.appendChild(fragment);
            });
        </script>
    </head>
    <body>
        <div id="game-board"></div>
    </body>
</html>
